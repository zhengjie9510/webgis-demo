{"version":3,"file":"js/3972.c2fae77a.js","mappings":"kLACOA,GAAG,mB,0CAARC,EAAAA,EAAAA,IAAgC,MAAhCC,E,uIAMF,MAAMC,EAAOC,EAAQ,OAErB,MAAMC,EACJC,YAAYC,GACVC,KAAKC,mBAAqB,IAAIC,EAAAA,EAC9BF,KAAKG,YAASC,EACdJ,KAAKK,YAASD,EACdJ,KAAKM,MAAQP,EAAQO,MACrBN,KAAKO,MAAQR,EAAQQ,KACvB,CACIC,iBACF,OAAO,CACT,CAEIC,wBACF,OAAOT,KAAKC,kBACd,CAEAS,QAAQC,GACN,OAAOT,EAAAA,EAAAA,sBACT,CAEAU,SAASD,EAAME,GAMb,OALKX,EAAAA,EAAeW,KAClBA,EAAS,CAAC,GAEZA,EAAON,MAAQL,EAAAA,EAAAA,kBAAkCF,KAAKK,OAAQM,EAAMT,EAAAA,EAAAA,IAAkBW,EAAON,OAC7FM,EAAOP,MAAQJ,EAAAA,EAAAA,kBAAkCF,KAAKG,OAAQQ,EAAM,GAAIE,EAAOP,OACxEO,CACT,CAEAC,OAAOC,GACL,OAAQf,OAASe,GACdA,aAAiBlB,GAChBK,EAAAA,EAAAA,OAAuBF,KAAKK,OAAQU,EAAMV,SAC1CH,EAAAA,EAAAA,OAAuBF,KAAKG,OAAQY,EAAMZ,OAChD,EAEFa,OAAOC,iBAAiBpB,EAA2BqB,UAAW,CAC5DZ,MAAOJ,EAAAA,EAAgC,SACvCK,MAAOL,EAAAA,EAAgC,WAEzCA,EAAOL,2BAA6BA,EACpCK,EAAAA,EAAAA,uBAAyC,yBACzCA,EAAAA,EAAAA,yBAA2C,0ZAa3CA,EAAAA,EAAAA,eAAAA,YAA2CA,EAAAA,EAAAA,uBAAwC,CACjFiB,OAAQ,CACNC,KAAMlB,EAAAA,EAAAA,uBACNmB,SAAU,CACRd,MAAO,IAAIL,EAAAA,EAAa,EAAK,EAAK,EAAK,GACvCI,MAAO,GAETgB,OAAQpB,EAAAA,EAAAA,0BAGVqB,YAAa,SAAUC,GACrB,OAAO,CACT,IAGF,OACEC,UACEzB,KAAK0B,MACP,EACAC,QAAS,CACPD,OACE,IAAIE,EAAS,IAAI1B,EAAAA,EAAc,kBAAmB,CAChD2B,UAAW,IAAI3B,EAAAA,EACb,IAAIA,EAAAA,EAAkC,CACpC4B,IAAK,6DACLC,WAAY,CAAC,IAAK,IAAK,IAAK,UAI9B7B,EAAAA,EAAAA,oCAEF0B,EAAOI,gBAAkBC,OAAOC,kBAElCN,EAAOO,MAAMC,kBAAkBC,KAAKC,SAAU,EAE9CpC,EAAAA,EAAAA,KAA8BP,GAAM4C,MAAKC,IACvCZ,EAAOa,OAAOD,GACdZ,EAAOc,YAAYC,IAAIH,GACvB,IAAII,EAAWJ,EAAWI,SAASC,OACnC,IAAK,IAAIC,KAAUF,EACjBE,EAAOC,SAASC,MAAQ,EACxBF,EAAOC,SAASvB,SAAW,IAAItB,EAAOL,2BAA2B,CAC/DU,MAAOL,EAAAA,EAAAA,KACPI,MAAO,IAEX,GAEJ,I,WCxGJ,MAAM2C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://webgis/./src/components/public/trail_line.vue","webpack://webgis/./src/components/public/trail_line.vue?0e36"],"sourcesContent":["<template>\n  <div id=\"cesiumContainer\"></div>\n</template>\n\n<script>\nimport 'cesium/Build/Cesium/Widgets/widgets.css'\nimport * as Cesium from 'cesium'\nconst road = require('../../../public/SampleData/road.json')\n\nclass SpriteLineMaterialProperty {\n  constructor(options) {\n    this._definitionChanged = new Cesium.Event();\n    this._speed = undefined\n    this._color = undefined\n    this.speed = options.speed\n    this.color = options.color\n  }\n  get isConstant() {\n    return false;\n  }\n\n  get definitionChanged() {\n    return this._definitionChanged;\n  }\n  // eslint-disable-next-line\n  getType(time) {\n    return Cesium.Material.SpriteLineMaterialType;\n  }\n\n  getValue(time, result) {\n    if (!Cesium.defined(result)) {\n      result = {};\n    }\n    result.color = Cesium.Property.getValueOrDefault(this._color, time, Cesium.Color.RED, result.color);\n    result.speed = Cesium.Property.getValueOrDefault(this._speed, time, 10, result.speed);\n    return result;\n  }\n\n  equals(other) {\n    return (this === other ||\n      (other instanceof SpriteLineMaterialProperty &&\n        Cesium.Property.equals(this._color, other._color) &&\n        Cesium.Property.equals(this._speed, other._speed)))\n  }\n}\nObject.defineProperties(SpriteLineMaterialProperty.prototype, {\n  speed: Cesium.createPropertyDescriptor('speed'),\n  color: Cesium.createPropertyDescriptor('color')\n})\nCesium.SpriteLineMaterialProperty = SpriteLineMaterialProperty\nCesium.Material.SpriteLineMaterialType = 'SpriteLineMaterialType';\nCesium.Material.SpriteLineMaterialSource = `\n  uniform vec4 color;  \n  const float pi = 3.1415926;\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    float time = fract( czm_frameNumber * speed / 1000.0);\n    vec2 st = materialInput.st;\n    material.diffuse = color.rgb;\n    material.alpha = 1.0 - fract(st.s * 2.0 + time);\n    return material;\n  }\n  `\nCesium.Material._materialCache.addMaterial(Cesium.Material.SpriteLineMaterialType, {\n  fabric: {\n    type: Cesium.Material.SpriteLineMaterialType,\n    uniforms: {\n      color: new Cesium.Color(1.0, 1.0, 0.0, 1.0),\n      speed: 5.0\n    },\n    source: Cesium.Material.SpriteLineMaterialSource\n  },\n  // eslint-disable-next-line\n  translucent: function (material) {\n    return true;\n  }\n})\n\nexport default {\n  mounted() {\n    this.init()\n  },\n  methods: {\n    init() {\n      var viewer = new Cesium.Viewer('cesiumContainer', {\n        baseLayer: new Cesium.ImageryLayer(\n          new Cesium.UrlTemplateImageryProvider({\n            url: \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",\n            subdomains: [\"a\", \"b\", \"c\", \"d\"],\n          })\n        )\n      })\n      if (Cesium.FeatureDetection.supportsImageRenderingPixelated()) {\n        //判断是否支持图像渲染像素化处理\n        viewer.resolutionScale = window.devicePixelRatio\n      }\n      viewer.scene.postProcessStages.fxaa.enabled = true\n\n      Cesium.GeoJsonDataSource.load(road).then(dataSource => {\n        viewer.zoomTo(dataSource)\n        viewer.dataSources.add(dataSource);\n        var entities = dataSource.entities.values;\n        for (let entity of entities) {\n          entity.polyline.width = 1\n          entity.polyline.material = new Cesium.SpriteLineMaterialProperty({\n            color: Cesium.Color.AQUA,\n            speed: 10.0\n          })\n        }\n      });\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#cesiumContainer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import { render } from \"./trail_line.vue?vue&type=template&id=39a159fb&scoped=true\"\nimport script from \"./trail_line.vue?vue&type=script&lang=js\"\nexport * from \"./trail_line.vue?vue&type=script&lang=js\"\n\nimport \"./trail_line.vue?vue&type=style&index=0&id=39a159fb&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zhengjie/Documents/webgis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39a159fb\"]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_hoisted_1","road","require","SpriteLineMaterialProperty","constructor","options","this","_definitionChanged","Cesium","_speed","undefined","_color","speed","color","isConstant","definitionChanged","getType","time","getValue","result","equals","other","Object","defineProperties","prototype","fabric","type","uniforms","source","translucent","material","mounted","init","methods","viewer","baseLayer","url","subdomains","resolutionScale","window","devicePixelRatio","scene","postProcessStages","fxaa","enabled","then","dataSource","zoomTo","dataSources","add","entities","values","entity","polyline","width","__exports__","render"],"sourceRoot":""}