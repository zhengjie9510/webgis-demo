"use strict";(self["webpackChunkwebgis"]=self["webpackChunkwebgis"]||[]).push([[618],{20618:function(e,n,o){o.r(n),o.d(n,{default:function(){return _}});var t=o(73396);const a={id:"cesiumContainer"};function r(e,n,o,r,s,i){return(0,t.wg)(),(0,t.iD)("div",a)}o(57658);var s=o(67474),i=o(15538),l=o(12588),c=o(40985),m=o(41289),p=o(51374),u=o(82104),f=o(31710),d=o(92119),w=o(44248),g=o(38511),b=o(33350);const C=o(95229);var h={mounted(){this.init()},methods:{init(){const e=new s.Z("cesiumContainer",{baseLayer:new i.Z(new l.Z({url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",subdomains:["a","b","c","d"]}))});c.Z.supportsImageRenderingPixelated()&&(e.resolutionScale=window.devicePixelRatio),e.scene.postProcessStages.fxaa.enabled=!0,m.Z.load(C).then((n=>{e.zoomTo(n);const o=n.entities.values,t=[];o.forEach((e=>{if(e.polyline&&e.polyline.positions){const n=e.polyline.positions.getValue(p.Z.now()),o=new u.Z({geometry:new f.Z({positions:n,width:2})});t.push(o)}}));const a="\n          uniform vec4 baseColor;   // 线的底色（全线可见）\n          uniform vec4 glowColor;   // 流光颜色\n          uniform float speed;      // 流光速度\n          uniform float percent;    // 流光宽度百分比\n\n          czm_material czm_getMaterial(czm_materialInput materialInput){\n              czm_material material = czm_getDefaultMaterial(materialInput);\n              vec2 st = materialInput.st;\n\n              float t = fract(czm_frameNumber * speed / 1000.0);\n              t *= (1.0 + percent);\n\n              float glowAlpha = smoothstep(t - percent, t, st.s) * step(-t, -st.s);\n\n              vec3 finalColor = baseColor.rgb * (1.0 - glowAlpha) + glowColor.rgb * glowAlpha;\n\n              material.diffuse = finalColor;\n              material.emission = glowColor.rgb * glowAlpha;\n\n              return material;\n          }\n        ";e.scene.primitives.add(new d.Z({geometryInstances:t,appearance:new w.Z({material:new g.Z({fabric:{uniforms:{baseColor:new b.Z.fromCssColorString("#26d7f4"),glowColor:new b.Z.fromCssColorString("#a3f68e"),speed:20,percent:.4},source:a}})}),allowPicking:!1}))}))}}},Z=o(40089);const v=(0,Z.Z)(h,[["render",r],["__scopeId","data-v-1dfad6b8"]]);var _=v}}]);
//# sourceMappingURL=618.4726368a.js.map